<template>

	<lightning-tabset variant="scoped">
		<lightning-tab label="Attach Logistics">
		   <lightning-card >

			   <p class="slds-text-heading_small">{activeSectionMessage}</p>
			   <!--<lightning-button onclick={handleSetActiveSectionC} label="Open Section "></lightning-button>-->
			   <template if:true={options}>
		   
				   <lightning-accordion  allow-multiple-sections-open class="example-accordion"  onsectiontoggle={handleToggleSection} active-section-name="B">
						   <lightning-accordion-section  name='Select OLI' label='Select OLI'>
							   <table class="slds-table slds-table--bordered slds-table--cell-buffer slds-table--striped slds-max-medium-table--stacked-horizontal"
														   role="grid" style="table-layout:fixed;">
														   <thead>
														   <tr class="slds-line-height_reset">
															   <th class="" scope="col">
																   <div class="slds-truncate" title="Checkbox">Select</div>
															   </th>
															   <th class="" scope="col">
																   <div class="slds-truncate" title="OLI Name">OLI Name</div>
															   </th>
															   <th class="" scope="col">
																   <div class="slds-truncate" title="Passenger Quantity">Passenger Quantity</div>
															   </th>
															   <th class="" scope="col">
																   <div class="slds-truncate" title="Passenger Quantity">Passenger Type</div>
															   </th>
															   <th class="" scope="col">
																   <div class="slds-truncate" title="Total Amount">Total Amount</div>
															   </th>
														   </tr>
		   
		   
													   </thead>
									   <tbody>
										   <template for:each ={options} for:item="option" for:index="index" >
											   <tr key={option.value}>
												   <td>
													   <input type="radio" name={option} value={option} onchange={oliSelectChangeHandler} data-id="option" data-id2={index} style="margin-right: 5px;" >
												   </td>
												   <td>{option.value}</td>
												   <td>{option.passengerQuantity}</td>
												   <td>{option.passengerType}</td>
												   <td>{option.totalAmount}</td>
											   </tr>
											   </template>
									   </tbody>						
							   </table>
							   </lightning-accordion-section>
		   
							   <template if:true={glTrue}>
								   <lightning-accordion-section  name='General Logistics' label='General Logistics' >
									   <table class="slds-table slds-table--bordered slds-table--cell-buffer slds-table--striped slds-max-medium-table--stacked-horizontal"
																 role="grid" style="table-layout:fixed;">
																 <thead>
																   <tr class="slds-line-height_reset">
																	   <th class="" scope="col">
																		   <div class="slds-truncate" title="First Name">Logistic Name</div>
																	   </th>
																	   <th class="" scope="col">
																		   <div class="slds-truncate" title="Last Name">Price</div>
																	   </th>
																	   
																   </tr>
															   </thead>
											   <tbody>
												   <template for:each ={generallogistics} for:item="generallogi" for:index="index" >
													   <tr key={generallogi.glogisticName}>
														   <td>{generallogi.glogisticName}</td>
														   <td>{generallogi.glogisticPrice}</td>
														   
													   </tr>
													   </template>
											   </tbody>						
									   </table>
									   </lightning-accordion-section>
								   </template>
					   <template if:true={itinerary} for:each ={itinerary} for:item="itineraryDays" for:index="index" >
		   
						   <lightning-accordion-section  key={itineraryDays.dayName} name={itineraryDays.dayName} label={itineraryDays.dayName}  if:true={itineraryDays.getGeneric}>
							   <template if:true={itineraryDays.showAccomodation}>
							   
									   <lightning-accordion-section  name="Accomodation" label="Accomodation" >
		   
										   <table class="slds-table slds-table--bordered slds-table--cell-buffer slds-table--striped slds-max-medium-table--stacked-horizontal"
										   role="grid" style="table-layout:fixed;">
												   <thead>
													   <tr class="slds-line-height_reset">
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Checkbox">Select</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Name">Name</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Room Type">Room Type</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Room Type">Rooms Available</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Logistic Pricing">Logistic Pricing</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Price Category">Price Category</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Price Category">Price</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate " title="Price">Passenger</div>
														   </th>
													   </tr>
												   </thead>
												   <tbody>
													   <template for:each ={itineraryDays.Accomodation} for:item="Accomodation" for:index="indexchild">
		   
														   <tr key={Accomodation.Name} if:false={Accomodation.check}>
															   <td if:true={itineraryDays.getGeneric}>
																   <lightning-input class=""  type="checkbox"   data-id2={index}   data-id="Accomodation" data-id1={indexchild} onchange={handleChange}></lightning-input>
															   </td>
															   
															   <td class="slds-cell-wrap">
																   {Accomodation.Name}
															   </td>
															   
															   <td >
														   <lightning-combobox class="roomTypeSelect" name="Room Selection"  value={Accomodation.selectedRoomType}  options={Accomodation.Roomtype} data-id2={index} data-id="Accomodation" data-id1={indexchild} onchange={roomTypeChangeHandler}></lightning-combobox>
															   </td>
															   <td>
														   <!--<p class="slds-panel__header_align-center">{Accomodation.roomsAvailable}</p>-->	
															   <lightning-input class="" value={Accomodation.roomsAvailable} disabled=""></lightning-input>
														   </td>
															   <td>
															   <lightning-combobox  name="Logistic Pricing"  value={Accomodation.logisticPricing}  options={Accomodation.logisticPricing} data-id3={logisticPricing} data-id2={index} data-id="Accomodation" data-id1={indexchild} onchange={accLogisticPricingChangeHandler}></lightning-combobox>
																   </td>
															   <td>
															   <lightning-combobox  name="Price Category"  value={Accomodation.priceCategoryList}  options={Accomodation.priceCategoryList} data-id3={priceCategory}  data-id2={index} data-id="Accomodation" data-id1={indexchild} onchange={priceCategoryChangeHandler}></lightning-combobox>
																   </td>
															   <td>
															   <lightning-input class=""  type="currency" data-id2={index} data-id="Accomodation" data-id1={indexchild} onchange={priceChangeHandler}></lightning-input>
															   </td>
															   <td>
																   <lightning-combobox  name="Passenger"  value={Accomodation.priceCategoryList}  options={Accomodation.PassengerList} data-id3={priceCategory}  data-id2={index} data-id="Accomodation" data-id1={indexchild} onchange={priceCategoryChangeHandler} aria-multiline="true" aria-multiselectable="true"></lightning-combobox>
															   </td>
															   
															   <td>
																   <lightning-button label="Add" size="small" variant="neutral" onclick={handleAddRecord} data-id="Accomodation" data-id1={indexchild} data-id2={index} ></lightning-button>	
															   </td>
														   </tr>

														   <tr key={Accomodation.Name} if:true={Accomodation.check}>
														   
																   <td >
																   <lightning-input class=""  type="checkbox"   data-id2={index}   data-id="Accomodation" data-id1={indexchild} onchange={handleChange} disabled="" checked=""></lightning-input>
																   </td>
																	<td>
																   {Accomodation.Name}
																   </td>

																	  <td >
																   <lightning-combobox class="roomTypeSelect" name="Room Selection"  value={Accomodation.selectedRoomType}  options={Accomodation.Roomtype} data-id2={index} data-id="Accomodation" data-id1={indexchild} onchange={roomTypeChangeHandler} disabled=""></lightning-combobox>
																   </td>

																   <td>
																   <!--<p class="slds-panel__header_align-center">{Accomodation.roomsAvailable}</p>-->	
																	   <lightning-input class="" value={Accomodation.roomsAvailable} disabled=""></lightning-input>
																   </td>

																   <td>
																	   <lightning-combobox  name="Logistic Pricing"  value={Accomodation.logisticPricing}  options={Accomodation.logisticPricing} data-id3={logisticPricing} data-id2={index} data-id="Accomodation" data-id1={indexchild} onchange={accLogisticPricingChangeHandler} disabled=""></lightning-combobox>
																   </td>

																   <td>
																	   <lightning-combobox  name="Price Category"  value={Accomodation.priceCategoryList}  options={Accomodation.priceCategoryList} data-id3={priceCategory}  data-id2={index} data-id="Accomodation" data-id1={indexchild} onchange={priceCategoryChangeHandler} disabled=""></lightning-combobox>
																	</td>

																   <td>
																	   <lightning-input class=""  type="currency" data-id2={index} data-id="Accomodation" data-id1={indexchild} onchange={priceChangeHandler} disabled=""></lightning-input>
																   </td>
																   <td>
																	   <lightning-combobox  name="Passenger"  value={Accomodation.priceCategoryList}  options={Accomodation.PassengerList} data-id3={priceCategory}  data-id2={index} data-id="Accomodation" data-id1={indexchild} disabled=""></lightning-combobox>
																   </td>
															   
														   </tr>  
		   
		   
													   </template>
												   </tbody>
											   </table>
		   
									   </lightning-accordion-section>
							   
							   </template>
							   <template if:true={itineraryDays.showTransport}>
								   
									   <lightning-accordion-section name="Transport" label="Transport">
										   
											   <table class="slds-table slds-table_cell-buffer slds-table_bordered">
												   <thead>
													   <tr class="slds-line-height_reset">
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Select">Select</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Name">Name</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Logistic Pricing">Logistic Pricing</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Price">Price</div>
														   </th>
													   </tr>
												   </thead>
												   <tbody>
													   <template for:each ={itineraryDays.Transport} for:item="Transport" for:index="indexchild">
														   <tr key={Transport.Name} if:false={Transport.check}>
															   <td scope="col">
																   <div>
		   
																	   <lightning-input class=""  type="checkbox" data-id2={index}   data-id="Transport" data-id1={indexchild} onchange={handleChange} placeholder="Update Price"></lightning-input>
										   
																   </div>
															   </td>
															   <td scope="col">
																   <div>{Transport.Title}</div>
															   </td>
															   <td scope="col">
																   <lightning-combobox  name="Logistic Pricing"  value={Transport.logisticPricing}  options={Transport.logisticPricing} data-id2={index} data-id="Transport" data-id1={indexchild} onchange={accLogisticPricingChangeHandler}></lightning-combobox>
																	   </td>
															   <td scope="col">
																   <lightning-input class=""  value={Transport.logisticPricing.price} type="currency" data-id2={index} data-id="Transport" data-id1={indexchild} placeholder="Update Price" onchange={priceChangeHandler}></lightning-input>
																   </td>

																   <td scope="col">
																	   <lightning-input class=""  value={Transport.logisticPricing.price} type="currency" data-id2={index} data-id="Transport" data-id1={indexchild} placeholder="Update Price" onchange={priceChangeHandler}></lightning-input>
																	   </td>
														   </tr>


														   <tr key={Transport.Name} if:true={Transport.check}>
															   <td scope="col">
																   <div>
																	   <lightning-input class=""  type="checkbox" data-id2={index}   data-id="Transport" data-id1={indexchild} onchange={handleChange} placeholder="Update Price" disabled="" checked=""></lightning-input>
																   </div>
															   </td>
															   <td scope="col">
																   <div>{Transport.Title}</div>
															   </td>
															   <td scope="col">
																   <lightning-combobox  name="Logistic Pricing"  value={Transport.logisticPricing}  options={Transport.logisticPricing} data-id2={index} data-id="Transport" data-id1={indexchild} onchange={accLogisticPricingChangeHandler} disabled=""></lightning-combobox>
																	   </td>
															   <td scope="col">
																   <lightning-input class=""  value={Transport.logisticPricing.price} type="currency" data-id2={index} data-id="Transport" data-id1={indexchild} placeholder="Update Price" onchange={priceChangeHandler} disabled=""></lightning-input>
																   </td>
														   </tr>
													   </template>
												   </tbody>
											   </table>
		   
									   </lightning-accordion-section>
								   
							   </template>
							   <template if:true={itineraryDays.TOur_Addon}>
								   <p>
									   <lightning-accordion-section name="Tours/Add-on" label="Tours/Add-on">
										   <template for:each ={itineraryDays.TOur_Addon} for:item="TOur_Addon" for:index="indexchild">
											   <lightning-input class="slds-p-left_xx-large" key={TOur_Addon.Name} type="checkbox" label={TOur_Addon.Name} data-id2={index}   data-id="TOur_Addon" data-id1={indexchild} onchange={handleChange} ></lightning-input>
										   </template>
									   </lightning-accordion-section>
								   </p>
							   </template>
							   <template if:true={itineraryDays.Guide}>
								   <p>
									   <lightning-accordion-section name="Guide" label="Guide">
										   <template for:each ={itineraryDays.Guide} for:item="Guide" for:index="indexchild">
											   <lightning-input class="slds-p-left_xx-large" key={Guide.Name} type="checkbox" label={Guide.Name}  data-id2={index}  data-id="Guide" data-id1={indexchild} onchange={handleChange} ></lightning-input>
										   </template>
									   </lightning-accordion-section>
								   </p>
							   </template>
							   <template if:true={itineraryDays.showMeal}>
								   
									   <lightning-accordion-section name="Meal" label="Meal">
											   
											   <table class="slds-table slds-table_cell-buffer slds-table_bordered">
												   <thead>
													   <tr class="slds-line-height_reset">
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Select">Select</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Comments">Name</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Logistic Pricing">Logistic Pricing</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Price Category">Price Category</div>
														   </th>
														   <th class="" scope="col">
															   <div class="slds-truncate" title="Price">Price</div>
														   </th>
													   </tr>
												   </thead>
												   <tbody>
													   <template for:each ={itineraryDays.Meal} for:item="Meal" for:index="indexchild">
														   <tr key={Meal.Title} if:false={Meal.check}>
															   <td if:true={itineraryDays.getGeneric}>
																   <lightning-input class="" key={Meal.Name} type="checkbox" data-id2={index}   data-id="Meal" data-id1={indexchild} onchange={handleChange} ></lightning-input>
															   </td>
															   
															   <td class="slds-cell-wrap">
																   {Meal.Title}
															   </td>
															   <td>
																   <lightning-combobox  name="Logistic Pricing"  value={Meal.logisticPricing}  options={Meal.logisticPricing} data-id2={index} data-id="Meal" data-id1={indexchild} onchange={accLogisticPricingChangeHandler} ></lightning-combobox>
																	   </td>
															   <td>
																   <lightning-combobox  name="Price Category"  value={Meal.priceCategoryList}  options={Meal.priceCategoryList} data-id2={index} data-id="Meal" data-id1={indexchild} onchange={priceCategoryChangeHandler}  ></lightning-combobox>
																	   </td>
															   <td scope="col">
																   <lightning-input class=""  type="currency" data-id2={index} data-id="Meal" data-id1={indexchild} placeholder="Update Price" onchange={priceChangeHandler}  ></lightning-input>
																   </td>	
														   
														   </tr>



														   <tr key={Meal.Title} if:true={Meal.check}>
															   <td scope="col">
																   <div>
																	   <lightning-input class="" key={Meal.Name} type="checkbox" data-id2={index}   data-id="Meal" data-id1={indexchild} onchange={handleChange} disabled="" checked=""></lightning-input>
										   
																   </div>
															   </td>
															   <td scope="col">
																   <div>{Meal.Title}</div>
															   </td>
															   <td>
																   <lightning-combobox  name="Logistic Pricing"  value={Meal.logisticPricing}  options={Meal.logisticPricing} data-id2={index} data-id="Meal" data-id1={indexchild} onchange={accLogisticPricingChangeHandler} disabled=""></lightning-combobox>
																	   </td>
															   <td>
																   <lightning-combobox  name="Price Category"  value={Meal.priceCategoryList}  options={Meal.priceCategoryList} data-id2={index} data-id="Meal" data-id1={indexchild} onchange={priceCategoryChangeHandler} disabled=""></lightning-combobox>
																	   </td>
															   <td scope="col">
																   <lightning-input class=""  type="currency" data-id2={index} data-id="Meal" data-id1={indexchild} placeholder="Update Price" onchange={priceChangeHandler} disabled=""></lightning-input>
																   </td>	
														   </tr>
													   </template>
												   </tbody>
											   </table>
										   
										   
										   
									   </lightning-accordion-section>
								   
							   </template>
							   <template if:true={itineraryDays.Aus_Misc}>
								   <p>
									   <lightning-accordion-section name="Auswalk-Misc" label="Auswalk-Misc">
										   <template for:each ={itineraryDays.Aus_Misc} for:item="Aus_Misc" for:index="indexchild">
											   <lightning-input class="slds-p-left_xx-large" key={Aus_Misc.Name} type="checkbox" label={Aus_Misc.Name} data-id2={index}   data-id="Aus_Misc" data-id1={indexchild} onchange={handleChange} ></lightning-input>
										   </template>
									   </lightning-accordion-section>
								   </p>
							   </template>
							   <template if:true={itineraryDays.NationalPark}>
								   <p>
									   <lightning-accordion-section name="National Park" label="National Park">
										   <template for:each ={itineraryDays.NationalPark} for:item="NationalPark" for:index="indexchild">
											   <lightning-input class="slds-p-left_xx-large" key={NationalPark.Name} type="checkbox" label={NationalPark.Name} data-id2={index}   data-id="NationalPark" data-id1={indexchild} onchange={handleChange} ></lightning-input>
										   </template>
									   </lightning-accordion-section>
								   </p>
							   </template>
							   <template if:true={itineraryDays.Hsc}>
								   <p>
									   <lightning-accordion-section name="High Season Surcharge" label="High Season Surcharge" for:index="indexchild">
										   <template for:each ={itineraryDays.Hsc} for:item="Hsc">
											   <lightning-input class="slds-p-left_xx-large" key={Hsc.Name} type="checkbox" label={Hsc.Name} data-id2={index}   data-id="Hsc" data-id1={indexchild} onchange={handleChange} ></lightning-input>
										   </template>
									   </lightning-accordion-section>
								   </p>
							   </template>
						   </lightning-accordion-section>
					   </template>
				   </lightning-accordion>
			   </template>
			   <br/>
			   <br/>
			   <lightning-card title="Booking Supplier Record">
				   <div class="slds-grid slds-gutters">
					   <div class="slds-col">
						   <span></span>
					   </div>
				   </div>
				   <br/>
				   <table class="slds-table slds-table_cell-buffer slds-table_bordered">
					   <thead>
						   <tr class="slds-line-height_reset">
							   
							   <th class="" scope="col">
								   <div class="slds-truncate" title="Supplier Type">Supplier Type</div>
							   </th>
							   <th class="" scope="col">
								   <div class="slds-truncate" title="Title">Title</div>
							   </th>
							   <th class="" scope="col">
								   <div class="slds-truncate" title="Information">Information</div>
							   </th>
							   
							   <th class="" scope="col">
								   <div class="slds-truncate" title="Day">Day</div>
							   </th>
							   <th class="" scope="col">
								   <div class="slds-truncate" title="Price">Price</div>
							   </th>
						   </tr>
					   </thead>
					   <tbody>
						   <template  for:each={list} for:item='item' for:index='index'>
					   
							   <tr key={item.index}>
								   <td>
									   
									   {item.SupplierType}
								   </td>
								   <td>
									   {item.Title}
									   </td>
									   <td>
										   {item.Information}
										   </td>
										   
										   <td>
											   {item.Day}
											   </td>
											   <td>
											   {item.Price}
											   </td>
											   </tr>
												   
										   </template>
										   
					   </tbody>
				   </table>
			   </lightning-card>
			   <div align ="right">
				   <lightning-button variant="success" label="Save" title="Successful action" onclick={saveClick} class="slds-m-left_x-small"></lightning-button>
			   </div>
		   </lightning-card>
		</lightning-tab>
	   
	   
		<lightning-tab label="Selected Order Logistics">
		   <lightning-card>
			   <table class="slds-table slds-table--bordered slds-table--cell-buffer slds-table--striped slds-max-medium-table--stacked-horizontal"
														   role="grid" style="table-layout:fixed;">
														   <thead>
														   <tr class="slds-line-height_reset">
															   
															   <th class="" scope="col">
																   <div class="slds-truncate" title="SupplierType">SupplierType</div>
															   </th>
															   <th class="" scope="col">
																   <div class="slds-truncate" title="Passenger Quantity">Title</div>
															   </th>
															   <th class="" scope="col">
																   <div class="slds-truncate" title="Passenger Quantity">Itinerary</div>
															   </th>
															   <th class="" scope="col">
																   <div class="slds-truncate" title="Total Amount">Price</div>
															   </th>
														   </tr>
		   
		   
													   </thead>
									   <tbody>
										   <template for:each ={orderlogistics} for:item="ol" for:index="index" >
											   <tr key={ol.Title}>
												   
												   <td>{ol.SupplierType}</td>
												   <td>{ol.Title}</td>
												   <td>{ol.Dateday}</td>
												   <td>{ol.Price}</td>
												   <td>
												   
												   <lightning-button label="" size="small" variant="neutral" value={ol.RecordId} onclick={handleContactDelete} data-id="ol" data-id2={index} icon-name="utility:delete" icon-position="center" ></lightning-button>
											   </td>
											   </tr>
											   </template>
									   </tbody>						
							   </table>


		   </lightning-card>
		</lightning-tab>
	</lightning-tabset>

</template>